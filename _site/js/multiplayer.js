!function(){function e(){var e=Math.floor((Math.min(f.width(),f.height())-30)/9);s.css("font-size",e)}function a(e){var a=$(e.target),t=d.index(a.parent()),n=d.eq(t).find(".small-cell").index(a);i==o&&(b.emit("move",{bigCell:t,smallCell:n,player:o}),l(t,n,i))}function l(e,a,l){var n=d.eq(e),o=n.find(".small-cell").eq(a);"undefined"!=typeof o.attr("data-player")&&o.attr("data-player")!==!1||-1!==u&&e!==u||(o.attr("data-player",i),t(e,a,l),u=9===d.eq(a).find('.small-cell[data-player="1"], .small-cell[data-player="2"]').length?-1:a,s.attr("data-cell",u),r())}function t(e,a,l){var t=p[e],r=1===l?1:-1;switch(a){case 0:t[0][0]+=r,t[1][0]+=r,t[2][0]+=r;break;case 1:t[0][0]+=r,t[1][1]+=r;break;case 2:t[0][0]+=r,t[1][2]+=r,t[2][1]+=r;break;case 3:t[0][1]+=r,t[1][0]+=r;break;case 4:t[0][1]+=r,t[1][1]+=r,t[2][0]+=r,t[2][1]+=r;break;case 5:t[0][1]+=r,t[1][2]+=r;break;case 6:t[0][2]+=r,t[1][0]+=r,t[2][1]+=r;break;case 7:t[0][2]+=r,t[1][1]+=r;break;case 8:t[0][2]+=r,t[1][2]+=r,t[2][0]+=r}t[3]=n(e),p[e]=t}function n(e){var a=p[e];if(0===a[3]){for(var l=0;3>l;++l)for(var n=a[l],r=0;r<n.length;++r)if(3===Math.abs(n[r]))return 9!==e?(console.log("whyy??"),t(9,e,i)):alert(c+" won"),d.eq(e).addClass(c),i;return 0}return console.log(a[3]),a[3]}function r(){i=1===i?2:1,c="red"===c?"blue":"red",s.attr("data-color",c)}var o,i=1,c="red",s=$(".board"),d=s.find(".big-cell"),f=$(window),p=[[[0,0,0],[0,0,0],[0,0],0],[[0,0,0],[0,0,0],[0,0],0],[[0,0,0],[0,0,0],[0,0],0],[[0,0,0],[0,0,0],[0,0],0],[[0,0,0],[0,0,0],[0,0],0],[[0,0,0],[0,0,0],[0,0],0],[[0,0,0],[0,0,0],[0,0],0],[[0,0,0],[0,0,0],[0,0],0],[[0,0,0],[0,0,0],[0,0],0],[[0,0,0],[0,0,0],[0,0],0]],u=-1,b=io.connect("http://localhost:3000"),m=location.pathname.split("/")[2],h=$(".display"),y=h.find("h1");e(),b.emit("username",m),b.on("gameStarted",function(e){o=e;var a=1===o?"You are first player":"You are second player";y.html(a),h.css("display","inline-block"),setTimeout(function(){h.css("display","none")},1e3)}),b.on("opponentMove",function(e){console.log(e),l(e.bigCell,e.smallCell,e.player)}),$(".small-cell").bind("click",a),f.resize(e)}();
//# sourceMappingURL=../_sourcemaps/multiplayer.js.map